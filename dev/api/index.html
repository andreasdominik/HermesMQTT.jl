<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · hermesMQTT.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="hermesMQTT.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">hermesMQTT.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../install/">Installation</a></li><li><a class="tocitem" href="../details/">Some details</a></li><li><a class="tocitem" href="../makeskill/">New skill tutorial</a></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#Hermes-functions"><span>Hermes functions</span></a></li><li><a class="tocitem" href="#Dialogue-manager-functions"><span>Dialogue manager functions</span></a></li><li><a class="tocitem" href="#Interaction-with-assistant-Rhasspy/Susi/Snips"><span>Interaction with assistant Rhasspy/Susi/Snips</span></a></li><li><a class="tocitem" href="#Functions-to-handle-intents"><span>Functions to handle intents</span></a></li><li><a class="tocitem" href="#config.ini-functions"><span>config.ini functions</span></a></li><li><a class="tocitem" href="#Slot-access-functions"><span>Slot access functions</span></a></li><li><a class="tocitem" href="#MQTT-functions"><span>MQTT functions</span></a></li><li><a class="tocitem" href="#Handle-background-information-of-recognised-intent"><span>Handle background information of recognised intent</span></a></li><li><a class="tocitem" href="#Multi-language-utilities"><span>Multi-language utilities</span></a></li><li><a class="tocitem" href="#Hardware-control"><span>Hardware control</span></a></li><li><a class="tocitem" href="#Status-database"><span>Status database</span></a></li><li><a class="tocitem" href="#Scheduler"><span>Scheduler</span></a></li><li><a class="tocitem" href="#Utility-functions"><span>Utility functions</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li><li><a class="tocitem" href="../license/">License</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/main/docs/src/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API-documentation"><a class="docs-heading-anchor" href="#API-documentation">API documentation</a><a id="API-documentation-1"></a><a class="docs-heading-anchor-permalink" href="#API-documentation" title="Permalink"></a></h1><h2 id="Hermes-functions"><a class="docs-heading-anchor" href="#Hermes-functions">Hermes functions</a><a id="Hermes-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Hermes-functions" title="Permalink"></a></h2><p>These functions publish and subscribe to Hermes MQTT-topics.</p><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.subscribe_to_intents" href="#HermesMQTT.subscribe_to_intents"><code>HermesMQTT.subscribe_to_intents</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">subscribe_to_intents(intents, callback; moreTopics = nothing)</code></pre><p>Subscribe to one or a list of intents and listen forever and run the callback if a matching intent is recieved.</p><p><strong>Arguments:</strong></p><ul><li><code>intents</code>: Abstract String or List of Abstract Strings to define          intents to subscribe. The intents will be expanded          to topics (i.e. &quot;hermes/intent/SwitchOnLight&quot;)</li><li><code>callback</code>: Function to be executed for a incoming message</li><li><code>moreTopics</code>: keyword arg to provide additional topics to subscribe           (complete names of of topics).</li></ul><p><strong>Details:</strong></p><p>The callback function has the signature f(topic, intentMessage), where topic is a String and intentMessage a Dict{Symbol, Any} with the content of the payload (assuming, that the payload is in JSON-format) or a String, if the payload is not valid JSON. The callback function is spawned and the function is listening to the MQTT server while the callback is executed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L9-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.subscribe_to_topics" href="#HermesMQTT.subscribe_to_topics"><code>HermesMQTT.subscribe_to_topics</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">subscribe_to_topics(topics, callback)</code></pre><p>Subscribe to one or a list of topics and listen forever and run the callback if a matching intent is recieved.</p><p><strong>Arguments:</strong></p><ul><li><code>topics</code>: Abstract String or List of Abstract Strings to define          topics to subscribe.</li><li><code>callback</code>: Function to be executed for a incoming message</li></ul><p>See <code>subscribe2Intents()</code> for details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L39-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.publish_start_session_action" href="#HermesMQTT.publish_start_session_action"><code>HermesMQTT.publish_start_session_action</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">publish_start_session_action(text; siteID=get_siteID(),
     intentFilter=nothing, sendIntentNotRecognized=false,
     customData=nothing)</code></pre><p>MQTT publish start session with init action</p><p><strong>Arguments:</strong></p><ul><li><code>siteID</code>: ID of the site in which the session is started</li><li><code>text</code>: text to be said via TTS</li><li><code>intentFilter</code>: Optional Array of String - a list of intent names to               restrict the NLU resolution of the answer of this query.</li><li><code>sendIntentNotRecognized</code>: Optional Boolean -  Indicates whether the               dialogue manager should handle non recognized intents               by itself or sent them as an Intent Not Recognized for               the client to handle.</li><li><code>customData</code>: data to be sent to the service.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L227-L244">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.publish_start_session_notification" href="#HermesMQTT.publish_start_session_notification"><code>HermesMQTT.publish_start_session_notification</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">publish_start_session_notification(text; siteID=get_siteID(),
                                customData=nothing)</code></pre><p>MQTT publish start session with init notification</p><p><strong>Arguments:</strong></p><ul><li><code>siteID</code>: siteID</li><li><code>text</code>: text to be said via TTS</li><li><code>customData</code>: data to be sent to the service.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L271-L281">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.publish_end_session" href="#HermesMQTT.publish_end_session"><code>HermesMQTT.publish_end_session</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">publish_end_session(text...; sessionID=get_sessionID())</code></pre><p>MQTT publish end session.</p><p><strong>Arguments:</strong></p><ul><li><code>sessionId</code>: ID of the session to be terminated as String.            If omitted, sessionId of the current will be inserted.</li><li><code>text</code>: text to be said via TTS</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L158-L167">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.publish_hotword_on" href="#HermesMQTT.publish_hotword_on"><code>HermesMQTT.publish_hotword_on</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function publish_hotword_on(siteID)</code></pre><p>Publish a hotword-on topic for the siteID.</p><p><strong>Arguments:</strong></p><ul><li>siteID: mandatory argument siteID must be given as String (no default)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L487-L494">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.publish_hotword_off" href="#HermesMQTT.publish_hotword_off"><code>HermesMQTT.publish_hotword_off</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function publish_hotword_off(siteID)</code></pre><p>Publish a hotword-off topic for the siteId.</p><p><strong>Arguments:</strong></p><ul><li>siteID: mandatory argument siteId must be given as String (no default)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L502-L509">source</a></section></article><h2 id="Dialogue-manager-functions"><a class="docs-heading-anchor" href="#Dialogue-manager-functions">Dialogue manager functions</a><a id="Dialogue-manager-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Dialogue-manager-functions" title="Permalink"></a></h2><p>In addition to functions to work with the dialogue manager, advanced direct dialogues are provided that can be included in the control flow of the program.</p><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.publish_continue_session" href="#HermesMQTT.publish_continue_session"><code>HermesMQTT.publish_continue_session</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">publish_continue_session(text...; sessionID=get_sessionID(),
     intentFilter = nothing,
     customData = nothing, sendIntentNotRecognized = false)</code></pre><p>MQTT publish continue session.</p><p><strong>Arguments:</strong></p><ul><li><code>sessionID</code>: ID of the current session as String</li><li><code>text</code>: text to be said via TTS</li><li><code>intentFilter</code>: Optional Array of String - a list of intents names to               restrict the NLU resolution on the answer of this query.</li><li><code>customData</code>: Optional String - an update to the session&#39;s custom data.</li><li><code>sendIntentNotRecognized</code>: Optional Boolean -  Indicates whether the               dialogue manager should handle non recognized intents               by itself or sent them as an Intent Not Recognized for               the client to handle.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L185-L202">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>listen_intents_one_time</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.configure_intent" href="#HermesMQTT.configure_intent"><code>HermesMQTT.configure_intent</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">configure_intent(intent, on)</code></pre><p>Enable or disable an intent.</p><ul><li><code>intent</code>: one intent to be configured</li><li><code>on</code>: boolean value; if <code>true</code>, the intent is enabled; if <code>false</code> it is disabled.</li></ul><pre><code class="nohighlight hljs"></code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L431-L440">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>ask_yes_or_no_or_unknown</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.ask_yes_or_no" href="#HermesMQTT.ask_yes_or_no"><code>HermesMQTT.ask_yes_or_no</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ask_yes_or_no(question)</code></pre><p>Ask the question and listen to the intent &quot;ADoSnipsYesNoDE&quot; and return :true if &quot;Yes&quot; or &quot;No&quot; otherwise.</p><p><strong>Arguments:</strong></p><ul><li><code>question</code>: String with the question to uttered</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L141-L149">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.publish_say" href="#HermesMQTT.publish_say"><code>HermesMQTT.publish_say</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">publish_say(text...; sessionID=get_sessionID(), siteID=nothing,
                lang=nothing, id=nothing, wait=true)</code></pre><p>Let the TTS say something.</p><p>The variant with a Symbol as first argument looks up the phrase in the dictionary of phrases for the selected language by calling <code>getText()</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>text</code>: text to be said via TTS</li><li><code>lang</code>: optional language code (i.e. <code>en-US</code>) to use when saying the text.       If not specified, default language will be used</li><li><code>sessionId</code>: optional ID of the session if there is one</li><li><code>id</code>: optional request identifier. If provided, it will be passed back     in the response on hermes/tts/sayFinished.</li><li><code>wait</code>: wait until the massege is spoken (i.e. wait for the       MQTT-topic)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L320-L339">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.publish_nlu_query" href="#HermesMQTT.publish_nlu_query"><code>HermesMQTT.publish_nlu_query</code></a> — <span class="docstring-category">Function</span></header><section><div><p>publish<em>nlu</em>query(input; siteID=&quot;default&quot;, sessionID=nothing,                                 intentFilter=nothing)</p><p>Publish a NLU request for the command <code>input</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L533-L538">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.publish_intent" href="#HermesMQTT.publish_intent"><code>HermesMQTT.publish_intent</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">publish_intent(payload, topic=nothing)</code></pre><p>Publish an intent with the payload as topic.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L560-L564">source</a></section></article><h2 id="Interaction-with-assistant-Rhasspy/Susi/Snips"><a class="docs-heading-anchor" href="#Interaction-with-assistant-Rhasspy/Susi/Snips">Interaction with assistant Rhasspy/Susi/Snips</a><a id="Interaction-with-assistant-Rhasspy/Susi/Snips-1"></a><a class="docs-heading-anchor-permalink" href="#Interaction-with-assistant-Rhasspy/Susi/Snips" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.get_language" href="#HermesMQTT.get_language"><code>HermesMQTT.get_language</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_language()</code></pre><p>Return the language in the Module HermesMQTT</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L301-L305">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.upload_intents" href="#HermesMQTT.upload_intents"><code>HermesMQTT.upload_intents</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">upload_intents(skill_name=nothing)</code></pre><p>Upload the intents and slots for the given skill to Rhasspy.</p><p><strong>Arguments:</strong></p><ul><li><code>skill_name</code>: name of the skill.                The name must match the name of the skill directory to make it                possible to find the intents and slots in the                directory <code>&lt;skillname&gt;/profiles/&lt;lang&gt;/</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/install.jl#L298-L308">source</a></section></article><h2 id="Functions-to-handle-intents"><a class="docs-heading-anchor" href="#Functions-to-handle-intents">Functions to handle intents</a><a id="Functions-to-handle-intents-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-to-handle-intents" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.is_false_detection" href="#HermesMQTT.is_false_detection"><code>HermesMQTT.is_false_detection</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_false_detection(payload)</code></pre><p>Return true, if the current intent is <strong>not</strong> correct for the uttered command (i.e. false positive).</p><p><strong>Arguments:</strong></p><ul><li><code>payload</code>: Dictionary with the payload of a recognised intent.</li></ul><p><strong>Details:</strong></p><p>All lines of the <code>config.ini</code> are analysed, witch match expressions:</p><ul><li>`&lt;intentname&gt;:must_include:&lt;description&gt;=&lt;list of words&gt;</li></ul><p>An example would be:</p><ul><li><code>switchOnOff:must_include = on, light</code></li><li><code>switchOnOff:must_chain = light,on</code></li><li><code>switchOnOff:must_span = switch,light,on</code></li><li><code>switchOnOff:must_span = switch,on</code></li></ul><p>The command must include all words in the correct order of at least one parameter lines and the words must span the complete line (i.e. the command starts with first word and ends with the last word of the list).</p><p>Several lines are possible; the last part of the parameter name is used as description and to make the parameter names unique.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L514-L540">source</a></section></article><h2 id="config.ini-functions"><a class="docs-heading-anchor" href="#config.ini-functions">config.ini functions</a><a id="config.ini-functions-1"></a><a class="docs-heading-anchor-permalink" href="#config.ini-functions" title="Permalink"></a></h2><p>Helper functions for read values from the file <code>config.ini</code>.</p><p><code>config.ini</code> files follow the normal rules as for all Snips apps, with some extensions:</p><ul><li><p>spaces are allowed around the <code>=</code></p></li><li><p>the parameter value may not contain whitespace; i.e. <code>light=my light</code> is better written as <code>light=my_light</code></p></li><li><p>if the value of the parameter (right side) includes commas, the value is interpreted as a comma-separated list of values. In this case, the reader-function will return an array of Strings with the values (which can be accessed by their index).</p></li><li><p>parameter names may have a prefix (set by the function  <code>set_config_prefix()</code>). If set, all config-functions will try to find parameter names with prefix. Example: If the config.ini includes the lines:</p><pre><code class="nohighlight hljs">main_light:ip=192.168.0.15
wall_light:ip=192.168.0.16</code></pre><p>the following code returns <code>192.168.0.15</code> in the first call and <code>192.168.0.16</code> in the second. This makes it easy to delegate config-reads to sub-functions:</p><pre><code class="nohighlight hljs">set_config_prefix(&quot;main_light&quot;)
main_ip = get_config(&quot;ip&quot;)

set_config_prefix(&quot;wall_light&quot;)
wall_ip = get_config(&quot;ip&quot;)</code></pre><p>Obviously is possible to access the parameters directly via <code>get_config(&quot;main_light:ip&quot;)</code> or <code>get_config(Symbol(&quot;main_light:ip&quot;))</code> without setting the prefix (the second form will work even if another prefix is set; see doc of the functions for details).</p></li></ul><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.get_config_skill" href="#HermesMQTT.get_config_skill"><code>HermesMQTT.get_config_skill</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_config(name; multiple = false, one_prefix = nothing)
get_config_skill(name; multiple = false, one_prefix = nothing,
                skill=get_appname())</code></pre><p>Return the parameter value of the config.ini with name or nothing if the param does not exist. Return value is of type <code>AbstractString</code>, if it is a single value or of type <code>AbstractArray{AbstractString}</code> if the a list of values is read.</p><p><strong>Arguments:</strong></p><ul><li><code>name</code>: name of the config parameter as Symbol or String</li><li><code>multiple</code>: if <code>true</code> an array of values is returned, even if             only a single value have been read.</li><li><code>one_prefix</code>: if defined, the prefix will be used only for this             single call instead of the stored prefix.</li></ul><p><strong>Details:</strong></p><p>If name is of type <code>Symbol</code>, it is treated as key in the Dirctionary of parameter values. If name is an <code>AbstractString</code>, the prefix is added if a prefix is defined (as <code>&lt;prefix&gt;:&lt;name&gt;</code>). &#39;get_config()&#39; returns &#39;&#39;nothing if something is wrong.</p><p><code>config.ini</code> entries are stored with the corresponding skill name  (appname), The function <code>get_config()</code> calls <code>get_config_skill()</code><code>with the current appname used as skill. If a config-entry for a different skill is wanted, the function</code>get<em>config</em>skill(...; skill=&quot;skillname&quot;)` can be used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/config.jl#L228-L258">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.is_in_config_skill" href="#HermesMQTT.is_in_config_skill"><code>HermesMQTT.is_in_config_skill</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_in_config(name)
is_in_config_skill(name; skill=get_appname())</code></pre><p>Return true if a parameter with name exists.</p><p><strong>Arguments:</strong></p><ul><li><code>name</code>: name of the config parameter as Symbol or String</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/config.jl#L328-L336">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.match_config_skill" href="#HermesMQTT.match_config_skill"><code>HermesMQTT.match_config_skill</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">match_config(name::Symbol, val::String)
match_config_skill(name::Symbol, val::String; skill=get_appname())</code></pre><p>Return true if the parameter with name <code>name</code> of the config.ini has the value val or one element of the list as the value val.</p><p><strong>Arguments:</strong></p><ul><li><code>name</code>: name of the config parameter as Symbol or String</li><li><code>val</code>: desired value</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/config.jl#L195-L205">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.set_config_prefix" href="#HermesMQTT.set_config_prefix"><code>HermesMQTT.set_config_prefix</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_config_prefix(new_prefix)</code></pre><p>Set the prefix for all following calls to a parameter from <code>config.ini</code>. All parameter names, gives as <code>Strings</code> will be modified as <code>&lt;prefix&gt;:&lt;name&gt;</code>.</p><p><strong>Details:</strong></p><p>Do not forget to reset the prefix (<code>reset_config_prefix()</code>) as  possible, to avoid side effects as the prefix is applied globally!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/config.jl#L437-L447">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.reset_config_prefix" href="#HermesMQTT.reset_config_prefix"><code>HermesMQTT.reset_config_prefix</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">reset_config_prefix()</code></pre><p>Remove the prefix for all following calls to a parameter from <code>config.ini</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/config.jl#L454-L459">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.get_all_config" href="#HermesMQTT.get_all_config"><code>HermesMQTT.get_all_config</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_all_config()</code></pre><p>Return a Dict with the complete <code>config.ini</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/config.jl#L317-L321">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.read_config" href="#HermesMQTT.read_config"><code>HermesMQTT.read_config</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_config(app_dir; skill=get_appname())</code></pre><p>Read the lines of the App&#39;s config file and return a Dict with config values.</p><p><strong>Arguments:</strong></p><ul><li><code>appDir</code>: Directory of the currently running app.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/config.jl#L83-L91">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.is_config_valid" href="#HermesMQTT.is_config_valid"><code>HermesMQTT.is_config_valid</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_config_valid(name; regex = r&quot;.&quot;, elem = 1, errorMsg = ERRORS_EN[:error_config],, 
                skill=get_appname())</code></pre><p>Return <code>true</code>, if the parameter <code>name</code> have been read correctly from the <code>config.ini</code> file and <code>false</code> otherwise. By default &quot;correct&quot; means: it is a String with length &gt; 0. For a moore specific test, a regex can be provided.</p><p><strong>Arguments:</strong></p><ul><li>name: name of parameter as AbstractString or Symbol</li><li>regex: optional regex for the test</li><li>elem: element to be tested, if the parameter returns an array</li><li>errorMsg: alternative error message.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/config.jl#L377-L390">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.get_config_path" href="#HermesMQTT.get_config_path"><code>HermesMQTT.get_config_path</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_config_path(name, default_path; one_prefix = nothing,
                skill=get_appname())</code></pre><p>Read the config value &#39;name&#39; as filename and generate a full (absolute) path:</p><ul><li>if fName starts with &#39;/&#39;, it is returned as is.</li><li>otherwise a full path is created with &#39;defaultPath&#39; as prefix.</li></ul><p><strong>Arguments:</strong></p><ul><li><code>name</code>: name of the config parameter as Symbol or String</li><li><code>default_path</code>: path to be used if name is not already a path</li><li><code>one_prefix</code>: if defined, the prefix will be used only for this             single call instead of the stored prefix.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/config.jl#L288-L302">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.load_hermes_config" href="#HermesMQTT.load_hermes_config"><code>HermesMQTT.load_hermes_config</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_hermes_config(hermes_dir)</code></pre><p>Load config setting for the <code>HermesMQTT</code> framework.</p><p><strong>Arguments:</strong></p><ul><li><code>hermes_dir</code>: path to the HermesMQTT-config.ini              <code>.../Skills/HermesMQTT.jl</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/config.jl#L46-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.load_skill_config" href="#HermesMQTT.load_skill_config"><code>HermesMQTT.load_skill_config</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_skill_config(app_dir; skill=get_appname()</code></pre><p>Load config setting for a skill.</p><p><strong>Arguments:</strong></p><ul><li><code>app_dir</code>: path to the config.ini              <code>.../Skills/Skill  (/config.ini)</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/config.jl#L29-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.load_two_configs" href="#HermesMQTT.load_two_configs"><code>HermesMQTT.load_two_configs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_two_configs(app_dir, hermes_dir=nothing, skill=get_appname())</code></pre><p>Load config setting for a skill in dir <code>app_dir</code> <strong>and</strong> config of the HermesMQTT<code>framework from</code>app_dir/../HermesMQTT/config.ini` or the specified dir.</p><p><strong>Arguments:</strong></p><ul><li><code>hermes_dir</code>: path to the HermesMQTT-config.ini              <code>.../Skills/HermesMQTT.jl</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/config.jl#L5-L15">source</a></section></article><h2 id="Slot-access-functions"><a class="docs-heading-anchor" href="#Slot-access-functions">Slot access functions</a><a id="Slot-access-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Slot-access-functions" title="Permalink"></a></h2><p>Functions to read values from slots of recognised intents.</p><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.extract_slot_value" href="#HermesMQTT.extract_slot_value"><code>HermesMQTT.extract_slot_value</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extract_slot_value(slot_name, payload; default=nothing, as=String)</code></pre><p>Return the value of a slot.</p><p>Nothing is returned, if</p><ul><li>no slots in payload,</li><li>no slots with name slot_name in payload,</li><li>no value in slot slot_name,</li><li>or the value cannot be casted into the type, specified ba the <code>as=</code> argument.</li></ul><p><strong>Arguments:</strong></p><ul><li><code>slot_name</code>: name of the slot as defined in the intent</li><li><code>payload</code>: JSON payload</li><li><code>default</code>: default value; returned if the slot is not present in the payload</li><li><code>as</code>: type of the returned value (default: String)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L31-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.extract_multislot_values" href="#HermesMQTT.extract_multislot_values"><code>HermesMQTT.extract_multislot_values</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extract_multislot_values(slot_names,payload)</code></pre><p>Return a list with all values of a list of slots.</p><p>Nothing is returned, if</p><ul><li>no slots in payload,</li><li>no slots with name in slotNames in payload,</li><li>no values in slot slotNames.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L76-L85">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.is_in_slot" href="#HermesMQTT.is_in_slot"><code>HermesMQTT.is_in_slot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_in_slot(slot_name, value, payload)</code></pre><p>Return <code>true</code>, if the value is present in the slot slotName of the JSON payload (i.e. one of the slot values must match). Return <code>false</code> if something is wrong (value not in payload or no slots slotName.)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L106-L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.is_on_off_matched" href="#HermesMQTT.is_on_off_matched"><code>HermesMQTT.is_on_off_matched</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_on_off_matched(payload, device_name; siteID=get_siteID())</code></pre><p>Action to be combined with the Hermes ON/OFF-intent <code>Susi:on_off</code>. Depending on the payload the function returns:</p><ul><li>:on if &quot;on&quot;</li><li>:off if &quot;off&quot;</li><li>:matched, if the device is matched but no on or off</li><li>:unmatched, if one of<ul><li>wrong siteId</li><li>wrong device</li></ul></li></ul><p><strong>Arguments:</strong></p><ul><li><code>payload</code>: payload of intent</li><li><code>siteId</code>: siteId of the device to be matched with the payload of intent           if <code>siteId == &quot;any&quot;</code>, the device will be matched w/o caring           about siteId or room.</li><li><code>device_name</code> : name of device to be matched with the payload of intent</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L375-L392">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.is_valid_or_end" href="#HermesMQTT.is_valid_or_end"><code>HermesMQTT.is_valid_or_end</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_valid_or_end(param; error_msg = &quot;mandatory parameter is nothing&quot;)</code></pre><p>End the session, with the message, if the param is <code>nothing</code> and returns false or true otherwise.</p><p>Function is a shortcut:</p><pre><code class="language-Julia hljs">if isnothing(param)
    publishEndSession(:error)
    return true
end</code></pre><p>is:</p><pre><code class="language-Julia hljs">is_valid_or_end(param, :error) || return true</code></pre><p><strong>Arguments:</strong></p><ul><li>param: any value (from slot or config.ini) that may be <code>nothing</code></li><li>errorMsg: Error as string or key of a text in the languages Dict (::Symbol).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes.jl#L453-L475">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.read_time_from_slot" href="#HermesMQTT.read_time_from_slot"><code>HermesMQTT.read_time_from_slot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_time_from_slot(slot_name, payload)</code></pre><p>Return a DateTime from a slot with a time string of the format <code>&quot;2019-09-03 18:00:00 +00:00&quot;</code> or <code>nothing</code> if it is not possible to parse the slot.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L123-L129">source</a></section></article><h2 id="MQTT-functions"><a class="docs-heading-anchor" href="#MQTT-functions">MQTT functions</a><a id="MQTT-functions-1"></a><a class="docs-heading-anchor-permalink" href="#MQTT-functions" title="Permalink"></a></h2><p>Low-level API to MQTT messages (publish and subscribe). In the QuickAndDirty framework, these functions are calling Eclipse <code>mosquitto_pub</code> and <code>mosquitto_sub</code>. However this first (and preliminary) implementation is surpriningly robust and easy to maintain - there might be no need to change.</p><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.subscribe_MQTT" href="#HermesMQTT.subscribe_MQTT"><code>HermesMQTT.subscribe_MQTT</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">subscribe_MQTT(topics, callback)</code></pre><p>Listen to one or more topics.</p><p><strong>Arguments</strong></p><ul><li><code>topics</code>: AbstractString or List of AbtsractString to define         topics to subscribe</li><li><code>callback</code>: Function to be executed for a incoming message.</li></ul><p><strong>Details:</strong></p><p>The callback function has the signature f(topic, payload), where topic is a String and payload a Dict{Symbol, Any} with the content of the payload (assuming, that the payload is in JSON-format) or a String, if the payload is not a valid JSON.</p><p>The callback function is spawned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/mqtt.jl#L8-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.read_one_MQTT" href="#HermesMQTT.read_one_MQTT"><code>HermesMQTT.read_one_MQTT</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_one_MQTT(topics; timeout=TIMEOUT)</code></pre><p>Listen to one or more topics until one message is retrieved and return topic as string and payload as Dict or as String if JSON parsing is not possible).</p><p><strong>Arguments</strong></p><ul><li><code>topics</code>: AbstractString or List of AbstractString to define         topics to subscribe</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/mqtt.jl#L55-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.publish_MQTT" href="#HermesMQTT.publish_MQTT"><code>HermesMQTT.publish_MQTT</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">publish_MQTT(topic, payload; file=false)</code></pre><p>Publish a MQTT message.</p><p><strong>Arguments</strong></p><ul><li><code>topics</code>: String with the topic</li><li><code>payload</code>: Dict() with message</li><li><code>file</code>: if <code>true</code>, the file will be sent (via <code>-f payload</code>, otherwise         the payload will be sent as JSON string via <code>-m</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/mqtt.jl#L187-L197">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.publish_MQTT_file" href="#HermesMQTT.publish_MQTT_file"><code>HermesMQTT.publish_MQTT_file</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">publish_MQTT_file(topic, fname)</code></pre><p>Publish a MQTT message with a file as payload.</p><p><strong>Arguments</strong></p><ul><li><code>topics</code>: String with the topic</li><li><code>fname</code>: full path and name of file to be published</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/mqtt.jl#L223-L231">source</a></section></article><h2 id="Handle-background-information-of-recognised-intent"><a class="docs-heading-anchor" href="#Handle-background-information-of-recognised-intent">Handle background information of recognised intent</a><a id="Handle-background-information-of-recognised-intent-1"></a><a class="docs-heading-anchor-permalink" href="#Handle-background-information-of-recognised-intent" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.set_siteID" href="#HermesMQTT.set_siteID"><code>HermesMQTT.set_siteID</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_siteID(siteID)</code></pre><p>Set the siteID in the Module HermesMQTT (necessary to direct the say() output to the current room)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L116-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.get_siteID" href="#HermesMQTT.get_siteID"><code>HermesMQTT.get_siteID</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_siteID()</code></pre><p>Return the siteID in the Module HermesMQTT (necessary to direct the say() output to the current room)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L127-L132">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.set_sessionID" href="#HermesMQTT.set_sessionID"><code>HermesMQTT.set_sessionID</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_sessionID(sessionID)</code></pre><p>Set the sessionId in the Module SnipsHermesQnD. The sessionId will be used to publish Hermes messages inside a runing session. The framework handles this in the background.</p><p><strong>Arguments:</strong></p><ul><li>sessionId: as String from a Hermes payload.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L140-L149">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.get_sessionID" href="#HermesMQTT.get_sessionID"><code>HermesMQTT.get_sessionID</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_sessionID()</code></pre><p>Return the sessionId of the currently running session.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L155-L159">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.set_module" href="#HermesMQTT.set_module"><code>HermesMQTT.set_module</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_module(currentModule)</code></pre><p>Set the module of the currently running app in SnipsHermesQnD. The framework uses this in the background.</p><p><strong>Arguments:</strong></p><ul><li>currentModule: The module in which the current skill is running.                (acessible via marco <code>@__MODULE__</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L194-L203">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.get_module" href="#HermesMQTT.get_module"><code>HermesMQTT.get_module</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_module()</code></pre><p>Return the module of the currently running app.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L209-L213">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.set_appdir" href="#HermesMQTT.set_appdir"><code>HermesMQTT.set_appdir</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_appdir(app_dir)</code></pre><p>Store the directory <code>appdir</code> as CURRENT[:app_dir] in the current session</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L347-L352">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.get_appdir" href="#HermesMQTT.get_appdir"><code>HermesMQTT.get_appdir</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_appdir()</code></pre><p>Return the directory of the currently running app</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L359-L363">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.set_appname" href="#HermesMQTT.set_appname"><code>HermesMQTT.set_appname</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_appname(app_name)</code></pre><p>Store the name of the current app/module in CURRENT.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L371-L375">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.get_appname" href="#HermesMQTT.get_appname"><code>HermesMQTT.get_appname</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_appname()</code></pre><p>Return the name of the currently running app.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L382-L386">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.set_topic" href="#HermesMQTT.set_topic"><code>HermesMQTT.set_topic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_topic(topic)</code></pre><p>Set the topic for which the currently running app is working. The framework uses this in the background.</p><p><strong>Arguments:</strong></p><ul><li>topic: name of current topic</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L223-L231">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.get_topic" href="#HermesMQTT.get_topic"><code>HermesMQTT.get_topic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_topic()</code></pre><p>Return the topic of the currently running app.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L237-L241">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.set_intent" href="#HermesMQTT.set_intent"><code>HermesMQTT.set_intent</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_intent(payload)</code></pre><p>Set the intent for which the currently running app is working. The framework uses this in the background.</p><p><strong>Arguments:</strong></p><ul><li>topic: name of current topic</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L248-L256">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.get_intent" href="#HermesMQTT.get_intent"><code>HermesMQTT.get_intent</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_intent()
get_intent(payload)</code></pre><p>Return the intent name of the currently running app.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L268-L273">source</a></section></article><h2 id="Multi-language-utilities"><a class="docs-heading-anchor" href="#Multi-language-utilities">Multi-language utilities</a><a id="Multi-language-utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-language-utilities" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.set_language" href="#HermesMQTT.set_language"><code>HermesMQTT.set_language</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_language(lang)</code></pre><p>Set the language in the Module HermesMQTT</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L291-L295">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.add_text" href="#HermesMQTT.add_text"><code>HermesMQTT.add_text</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_text(lang::AbstractString, key, text)</code></pre><p>Add the text to the dictionary of text sniplets for the language <code>lang</code> and the key <code>key</code>.</p><p><strong>Arguments:</strong></p><ul><li>lang: String with language code (<code>&quot;en&quot;, &quot;de&quot;, ...</code>)</li><li>key: Symbol or string with unique key for the text</li><li>text: String or array of String with the text(s) to be uttered.</li></ul><p><strong>Details:</strong></p><p>If text is an Array, all texts will be saved and the function <code>J4H.lang_text()</code> will return a randomly selected text from the list.</p><p>If the key already exists, the new text will be added to the the Array of texts for a key.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L258-L275">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.lang_text" href="#HermesMQTT.lang_text"><code>HermesMQTT.lang_text</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function lang_text(texts..., lang=get_language())</code></pre><p>Join the elements of texts into a single string and replace each string by the sentence of the language.</p><p><strong>Arguments:</strong></p><p><code>texts</code>: iterable collection of elements that can be converted          into strings. <code>Symbols</code> will be replaced by the          languange snipplets.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L291-L301">source</a></section></article><h2 id="Hardware-control"><a class="docs-heading-anchor" href="#Hardware-control">Hardware control</a><a id="Hardware-control-1"></a><a class="docs-heading-anchor-permalink" href="#Hardware-control" title="Permalink"></a></h2><p>Some devices can be directly controlled by the framework. In order to stay in the style of Snips, it is possible to run Shelly WiFi-switches without any cloud accounts and services. The Shelly-devices come with an own WiFi network. After installing the device just connect to Shelly&#39;s access point (somthing like <code>shelly1-35FA58</code>) and configure the switch for DHCP in your network with  teh selft-explaining the web-interface of the device. At no point it&#39;s necessary to create an account or use a cloud service (although the Shelly1 documentation recommends).</p><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.set_GPIO" href="#HermesMQTT.set_GPIO"><code>HermesMQTT.set_GPIO</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_GPIO(gpio, onoff::Symbol)</code></pre><p>Switch a GPIO on or off with pigs.</p><p><strong>Arguments:</strong></p><ul><li>gpio: ID of GPIO (not pinID)</li><li>onoff: one of :on or :off</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/gpio.jl#L10-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.switch_shelly_1" href="#HermesMQTT.switch_shelly_1"><code>HermesMQTT.switch_shelly_1</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">switch_shelly_1(ip, action; timer = 10)</code></pre><p>Switch a shelly1 device with IP <code>ip</code> on or off, depending on the value given as action and return <code>true</code>, if successful.</p><p><strong>Arguments:</strong></p><ul><li><code>ip</code>: IP address or DNS name of Shelly1 device</li><li><code>action</code>: demanded action as symbol; one of <code>:on</code>, <code>:off</code>, <code>push</code> or <code>:timer</code>.           action <code>:push</code> will switch on for 200ms to simulate a push.           action <code>:timer</code> will switch off after timer secs.</li><li><code>timer</code>: if action == <code>timer</code>, the device is switched on and          off again after <code>timer</code> secs (default 10s).</li></ul><p>For the API-doc of the Shelly devices see: <code>&lt;https://shelly-api-docs.shelly.cloud&gt;</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/shelly.jl#L7-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.switch_shelly_25_relay" href="#HermesMQTT.switch_shelly_25_relay"><code>HermesMQTT.switch_shelly_25_relay</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">switch_shelly_25_relay(ip, relay, action; timer = 10)</code></pre><p>Switch the relay <code>relay</code> of a shelly2.5 device with IP <code>ip</code> on or off, depending on the value given as action and return <code>true</code>, if successful.</p><p><strong>Arguments:</strong></p><ul><li><code>ip</code>: IP address or DNS name of Shelly2.5 device</li><li><code>relay</code>: Number of relay to be switched (0 or 1)</li><li><code>action</code>: demanded action as symbol; one of <code>:on</code>, <code>:off</code>, <code>push</code> or <code>:timer</code>.           action <code>:push</code> will switch on for 200ms to simulate a push.           action <code>:timer</code> will switch off after timer secs.</li><li><code>timer</code>: if action == <code>timer</code>, the device is switched on and          off again after <code>timer</code> secs (default 10s).</li></ul><p>For the API-doc of the Shelly devices see: <code>&lt;https://shelly-api-docs.shelly.cloud&gt;</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/shelly.jl#L38-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.move_shelly_25_roller" href="#HermesMQTT.move_shelly_25_roller"><code>HermesMQTT.move_shelly_25_roller</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">move_shelly_25_roller(ip, action; pos = 100, duration = 1)</code></pre><p>Move a roller with a shelly2.5 device with IP <code>ip</code> and return <code>true</code>, if successful.</p><p><strong>Arguments:</strong></p><ul><li><code>ip</code>: IP address or DNS name of Shelly2.5 device</li><li><code>action</code>: demanded action as symbol; one of <code>:open</code>, <code>:close</code>, <code>:stop</code>           or <code>:to_pos</code>.</li><li><code>pos</code>: desired position in percent</li><li>&#39;duration&#39;: is not yet implemented.</li></ul><p>For the API-doc of the Shelly devices see: <code>&lt;https://shelly-api-docs.shelly.cloud&gt;</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/shelly.jl#L86-L101">source</a></section></article><h2 id="Status-database"><a class="docs-heading-anchor" href="#Status-database">Status database</a><a id="Status-database-1"></a><a class="docs-heading-anchor-permalink" href="#Status-database" title="Permalink"></a></h2><p>The framework handles a database to save status about house and devices, controlled by the assistant. The database is stored on disk in order to persist in case of a system crash or restart.</p><p>Every skill can store and read Dicts() as entries with a unique key or values as field-value-pairs as part of an entry.</p><p>The db looks somehow like:</p><pre><code class="nohighlight hljs">{
    &quot;irrigation&quot; :
    {
        &quot;time&quot; : &quot;2019-08-26T10:12:13.177&quot;
        &quot;writer&quot; : &quot;Susi:Irrigation&quot;,
        &quot;payload&quot; :
        {
            &quot;status&quot; : &quot;on&quot;,
            &quot;next_status&quot; : &quot;off&quot;
        }
    }
}</code></pre><p>Location of the database file is <code>&lt;application_data_dir&gt;/HermesMQTT/&lt;database_file&gt;</code> where <code>application_data_dir</code> and <code>database_file&gt;</code> are parameters in the <code>config.ini</code> of the framework.</p><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>db_write_payload</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.db_write_value" href="#HermesMQTT.db_write_value"><code>HermesMQTT.db_write_value</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">db_write_value(key, field, value)</code></pre><p>Write a field=&gt;value pair to the entry of a database entry. The field is overwitten if the entry already exists, or created elsewise. The database is written to the JSON-file after the write.</p><p><strong>Arguments</strong></p><ul><li><code>key</code>: unique key of the database entry of        type <code>AbstractString</code> or <code>Symbol</code></li><li><code>field</code>: database field of the entry with key <code>key</code>        to be written (<code>AbstractString</code> or <code>Symbol</code>).</li><li><code>value</code>: value to be stored in the field, typically        a Dict() will be stored as JSON.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/db.jl#L48-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.db_has_entry" href="#HermesMQTT.db_has_entry"><code>HermesMQTT.db_has_entry</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">db_has_entry(key)</code></pre><p>Check if the database has an entry with the key <code>key</code> and return <code>true</code> or <code>false</code> otherwise.</p><p><strong>Arguments</strong></p><ul><li><code>key</code>: unique key of the database entry of        type <code>AbstractString</code> or <code>Symbol</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/db.jl#L89-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.db_read_entry" href="#HermesMQTT.db_read_entry"><code>HermesMQTT.db_read_entry</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">db_read_entry(key)</code></pre><p>Read the complete entry with the key <code>key</code> from the status database and return the entry as <code>Dict()</code> or nothing if not in the database.</p><p><strong>Arguments</strong></p><ul><li><code>key</code>: unique key of the database entry of        type <code>AbstractString</code> or <code>Symbol</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/db.jl#L111-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.db_read_value" href="#HermesMQTT.db_read_value"><code>HermesMQTT.db_read_value</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">db_read_value(key, field)</code></pre><p>Read the field <code>field</code> of the  entry with the key <code>key</code> from the status database and return the value or nothing if not in the database.</p><p><strong>Arguments</strong></p><ul><li><code>key</code>: unique key of the database entry of        type <code>AbstractString</code> or <code>Symbol</code></li><li><code>field</code>: database field of the payload of the entry with key <code>key</code>        (<code>AbstractString</code> or <code>Symbol</code>).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/db.jl#L138-L150">source</a></section></article><h2 id="Scheduler"><a class="docs-heading-anchor" href="#Scheduler">Scheduler</a><a id="Scheduler-1"></a><a class="docs-heading-anchor-permalink" href="#Scheduler" title="Permalink"></a></h2><p>The framework provides a scheduler which allows to execute intents or commands at a specified time in the future.</p><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.publish_schedule_command" href="#HermesMQTT.publish_schedule_command"><code>HermesMQTT.publish_schedule_command</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">publish_schedule_command(command, exec_time, origin; 
                siteID=get_site_id(), sessionID=mk_session_id())</code></pre><p>Publish a command to be executed at a specific time.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/intents.jl#L253-L258">source</a></section></article><h2 id="Utility-functions"><a class="docs-heading-anchor" href="#Utility-functions">Utility functions</a><a id="Utility-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Utility-functions" title="Permalink"></a></h2><p>Little helpers to provide functionality which is commonly needed when developing a skill.</p><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.readable_date_time" href="#HermesMQTT.readable_date_time"><code>HermesMQTT.readable_date_time</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function readable_date_time(datetime::AbstractString; lang=get_language())
                          wholeDay = false, onlyDay = false)
function readable_date_time(datetime::DateTime; lang=get_language(),
                          wholeDay = false, onlyDay = false)
function readable_date(datetime::Date; lang=get_language())</code></pre><p>Return human readable date and time, like &quot;Friday, 1. January 2018&quot;,  &quot;9 15&quot;</p><p>Supported languages: &quot;en&quot;, &quot;de&quot;, &quot;fr&quot;.</p><p><strong>Arguments:</strong></p><ul><li>datetime: date and optional time as ISO string or as DateTime object.</li><li>lang: Language code (e.g. &quot;en&quot; or &quot;de&quot;)</li><li>wholeDay: boolean, if true, no time is returned, instead &quot;whole day&quot;</li><li>onlyDay: just tell the day, not the time</li><li>onlyTime: just tell the time, not the day</li></ul><p><strong>Value:</strong></p><p>String value with readable date and time.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/dates.jl#L4-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.get_weather" href="#HermesMQTT.get_weather"><code>HermesMQTT.get_weather</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_weather()</code></pre><p>Return a Dict with weather information from openweather.org or weatherapi.com. The <code>config.ini</code> of the framework must include the lines to define which service to be used and api key and location for the service used (available from openweather.org or weatherapi.com).</p><pre><code class="nohighlight hljs"># weather_service=openweather
weather_service=weatherapi
openweather:api_key=insert_valid_API-key_here
openweather:city_id=6350865

weatherapi:api_key=insert_valid_API-key_here
weatherapi:location=52.52,13.40</code></pre><p><strong>Value:</strong></p><p>The return value has the elements:</p><ul><li><code>:service</code>: name of the weather service</li><li><code>:pressure</code>: pressure in hPa</li><li><code>:temperature</code>: temperature in degrees Celsius</li><li><code>:windspeed</code>: wind speed in meter/sec</li><li><code>:winddir</code>: wind direction in degrees</li><li><code>:clouds</code>: cloudiness in percent</li><li><code>:rain</code>: rain forecast for today</li><li><code>:rain1h</code></li><li><code>:rain3h</code>: rain in mm in the last 1 or 3 hours</li><li><code>:sunrise</code></li><li><code>:sunset</code>: local time of sunrise/sunset as DateTime object</li></ul><p>If something went wrong with the API-service, <code>nothing</code> is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/weather.jl#L12-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.tryrun" href="#HermesMQTT.tryrun"><code>HermesMQTT.tryrun</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tryrun(cmd; wait = true, error_msg = ERRORS_EN[:error_script], silent = false)</code></pre><p>Try to run an external command and returns true if successful or false if not.</p><p><strong>Arguments:</strong></p><ul><li>cmd: command to be executed on the shell</li><li>wait: if <code>true</code>, wait until the command has finished</li><li>error_msg: AbstractString or key to multi-language dict with the           error message.</li><li>silent: if <code>true</code>, no error is published, if something went wrong.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L159-L171">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.ping" href="#HermesMQTT.ping"><code>HermesMQTT.ping</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ping(ip; c = 1, W = 1)</code></pre><p>Return true, if a ping to the ip-address (or name) is successful.</p><p><strong>Arguments:</strong></p><ul><li>c: number of pings to send (default: 1)</li><li>W: timeout (default 1 sec)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L210-L219">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.try_read_textfile" href="#HermesMQTT.try_read_textfile"><code>HermesMQTT.try_read_textfile</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">try_read_textfile(fname, error_msg = TEXTS[:error_read])</code></pre><p>Try to read a text file from file system and return the text as <code>String</code> or an <code>String</code> of length 0, if something went wrong.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/utils.jl#L233-L239">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.try_parse_JSON_file" href="#HermesMQTT.try_parse_JSON_file"><code>HermesMQTT.try_parse_JSON_file</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">try_parse_JSON_file(fname; quiet = false)</code></pre><p>Parse a JSON file and return a hierarchy of Dicts with the content.</p><ul><li>keys are changed to Symbol</li><li>on error, an empty Dict() is returned</li></ul><p><strong>Arguments:</strong></p><ul><li>fname: filename</li><li>quiet: if false Snips utters an error message</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L86-L97">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HermesMQTT.try_parse_JSON" href="#HermesMQTT.try_parse_JSON"><code>HermesMQTT.try_parse_JSON</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">try_parse_JSON(text)</code></pre><p>parses a JSON and returns a hierarchy of Dicts{Symbol, Any} and Arrays with the content or a string (text), if text is not a valid JSON, the raw string is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/andreasdominik/HermesMQTT.jl/blob/b597a96e10d93855a08938d02c7c8771fefa674b/src/hermes-config.jl#L8-L14">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>try_mk_JSON</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>print_log</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>print_debug</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#HermesMQTT.add_text"><code>HermesMQTT.add_text</code></a></li><li><a href="#HermesMQTT.ask_yes_or_no"><code>HermesMQTT.ask_yes_or_no</code></a></li><li><a href="#HermesMQTT.configure_intent"><code>HermesMQTT.configure_intent</code></a></li><li><a href="#HermesMQTT.db_has_entry"><code>HermesMQTT.db_has_entry</code></a></li><li><a href="#HermesMQTT.db_read_entry"><code>HermesMQTT.db_read_entry</code></a></li><li><a href="#HermesMQTT.db_read_value"><code>HermesMQTT.db_read_value</code></a></li><li><a href="#HermesMQTT.db_write_value"><code>HermesMQTT.db_write_value</code></a></li><li><a href="#HermesMQTT.extract_multislot_values"><code>HermesMQTT.extract_multislot_values</code></a></li><li><a href="#HermesMQTT.extract_slot_value"><code>HermesMQTT.extract_slot_value</code></a></li><li><a href="#HermesMQTT.get_all_config"><code>HermesMQTT.get_all_config</code></a></li><li><a href="#HermesMQTT.get_appdir"><code>HermesMQTT.get_appdir</code></a></li><li><a href="#HermesMQTT.get_appname"><code>HermesMQTT.get_appname</code></a></li><li><a href="#HermesMQTT.get_config_path"><code>HermesMQTT.get_config_path</code></a></li><li><a href="#HermesMQTT.get_config_skill"><code>HermesMQTT.get_config_skill</code></a></li><li><a href="#HermesMQTT.get_intent"><code>HermesMQTT.get_intent</code></a></li><li><a href="#HermesMQTT.get_language"><code>HermesMQTT.get_language</code></a></li><li><a href="#HermesMQTT.get_module"><code>HermesMQTT.get_module</code></a></li><li><a href="#HermesMQTT.get_sessionID"><code>HermesMQTT.get_sessionID</code></a></li><li><a href="#HermesMQTT.get_siteID"><code>HermesMQTT.get_siteID</code></a></li><li><a href="#HermesMQTT.get_topic"><code>HermesMQTT.get_topic</code></a></li><li><a href="#HermesMQTT.get_weather"><code>HermesMQTT.get_weather</code></a></li><li><a href="#HermesMQTT.is_config_valid"><code>HermesMQTT.is_config_valid</code></a></li><li><a href="#HermesMQTT.is_false_detection"><code>HermesMQTT.is_false_detection</code></a></li><li><a href="#HermesMQTT.is_in_config_skill"><code>HermesMQTT.is_in_config_skill</code></a></li><li><a href="#HermesMQTT.is_in_slot"><code>HermesMQTT.is_in_slot</code></a></li><li><a href="#HermesMQTT.is_on_off_matched"><code>HermesMQTT.is_on_off_matched</code></a></li><li><a href="#HermesMQTT.is_valid_or_end"><code>HermesMQTT.is_valid_or_end</code></a></li><li><a href="#HermesMQTT.lang_text"><code>HermesMQTT.lang_text</code></a></li><li><a href="#HermesMQTT.load_hermes_config"><code>HermesMQTT.load_hermes_config</code></a></li><li><a href="#HermesMQTT.load_skill_config"><code>HermesMQTT.load_skill_config</code></a></li><li><a href="#HermesMQTT.load_two_configs"><code>HermesMQTT.load_two_configs</code></a></li><li><a href="#HermesMQTT.match_config_skill"><code>HermesMQTT.match_config_skill</code></a></li><li><a href="#HermesMQTT.move_shelly_25_roller"><code>HermesMQTT.move_shelly_25_roller</code></a></li><li><a href="#HermesMQTT.ping"><code>HermesMQTT.ping</code></a></li><li><a href="#HermesMQTT.publish_MQTT"><code>HermesMQTT.publish_MQTT</code></a></li><li><a href="#HermesMQTT.publish_MQTT_file"><code>HermesMQTT.publish_MQTT_file</code></a></li><li><a href="#HermesMQTT.publish_continue_session"><code>HermesMQTT.publish_continue_session</code></a></li><li><a href="#HermesMQTT.publish_end_session"><code>HermesMQTT.publish_end_session</code></a></li><li><a href="#HermesMQTT.publish_hotword_off"><code>HermesMQTT.publish_hotword_off</code></a></li><li><a href="#HermesMQTT.publish_hotword_on"><code>HermesMQTT.publish_hotword_on</code></a></li><li><a href="#HermesMQTT.publish_intent"><code>HermesMQTT.publish_intent</code></a></li><li><a href="#HermesMQTT.publish_nlu_query"><code>HermesMQTT.publish_nlu_query</code></a></li><li><a href="#HermesMQTT.publish_say"><code>HermesMQTT.publish_say</code></a></li><li><a href="#HermesMQTT.publish_schedule_command"><code>HermesMQTT.publish_schedule_command</code></a></li><li><a href="#HermesMQTT.publish_start_session_action"><code>HermesMQTT.publish_start_session_action</code></a></li><li><a href="#HermesMQTT.publish_start_session_notification"><code>HermesMQTT.publish_start_session_notification</code></a></li><li><a href="#HermesMQTT.read_config"><code>HermesMQTT.read_config</code></a></li><li><a href="#HermesMQTT.read_one_MQTT"><code>HermesMQTT.read_one_MQTT</code></a></li><li><a href="#HermesMQTT.read_time_from_slot"><code>HermesMQTT.read_time_from_slot</code></a></li><li><a href="#HermesMQTT.readable_date_time"><code>HermesMQTT.readable_date_time</code></a></li><li><a href="#HermesMQTT.reset_config_prefix"><code>HermesMQTT.reset_config_prefix</code></a></li><li><a href="#HermesMQTT.set_GPIO"><code>HermesMQTT.set_GPIO</code></a></li><li><a href="#HermesMQTT.set_appdir"><code>HermesMQTT.set_appdir</code></a></li><li><a href="#HermesMQTT.set_appname"><code>HermesMQTT.set_appname</code></a></li><li><a href="#HermesMQTT.set_config_prefix"><code>HermesMQTT.set_config_prefix</code></a></li><li><a href="#HermesMQTT.set_intent"><code>HermesMQTT.set_intent</code></a></li><li><a href="#HermesMQTT.set_language"><code>HermesMQTT.set_language</code></a></li><li><a href="#HermesMQTT.set_module"><code>HermesMQTT.set_module</code></a></li><li><a href="#HermesMQTT.set_sessionID"><code>HermesMQTT.set_sessionID</code></a></li><li><a href="#HermesMQTT.set_siteID"><code>HermesMQTT.set_siteID</code></a></li><li><a href="#HermesMQTT.set_topic"><code>HermesMQTT.set_topic</code></a></li><li><a href="#HermesMQTT.subscribe_MQTT"><code>HermesMQTT.subscribe_MQTT</code></a></li><li><a href="#HermesMQTT.subscribe_to_intents"><code>HermesMQTT.subscribe_to_intents</code></a></li><li><a href="#HermesMQTT.subscribe_to_topics"><code>HermesMQTT.subscribe_to_topics</code></a></li><li><a href="#HermesMQTT.switch_shelly_1"><code>HermesMQTT.switch_shelly_1</code></a></li><li><a href="#HermesMQTT.switch_shelly_25_relay"><code>HermesMQTT.switch_shelly_25_relay</code></a></li><li><a href="#HermesMQTT.try_parse_JSON"><code>HermesMQTT.try_parse_JSON</code></a></li><li><a href="#HermesMQTT.try_parse_JSON_file"><code>HermesMQTT.try_parse_JSON_file</code></a></li><li><a href="#HermesMQTT.try_read_textfile"><code>HermesMQTT.try_read_textfile</code></a></li><li><a href="#HermesMQTT.tryrun"><code>HermesMQTT.tryrun</code></a></li><li><a href="#HermesMQTT.upload_intents"><code>HermesMQTT.upload_intents</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../makeskill/">« New skill tutorial</a><a class="docs-footer-nextpage" href="../license/">License »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Tuesday 7 March 2023 15:00">Tuesday 7 March 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
